{% extends "base.html" %}
{% block content %}
<section id="content">
<article>
	<h2>AGENDA</h2>
	<p>Bienvenue sur cette page où vous trouverez l'ensemble des
	évènements que le HAUM organise ou auxquels il participe.</p>
	<p>Pour en savoir davantage sur l'un de ces
	évènements, ou nous convier à l'un des vôtres, n'hésitez pas à
	nous en faire part sur notre <a
		href="https://forum.haum.org">forum</a> ou par un autre moyen de contact.<p>
	<p>Enfin, pour ne manquer aucune date, vous pouvez <a href="{{ SITEURL }}/calendar/calendar.ics">télécharger le fichier Ical</a> et
	l'importer dans votre agenda personnel ou associatif. De cette manière, vous serez
	informé(e) automatiquement des nouveaux évènements.</p>
	<h3>Évènements à venir :</h3>
	<div id=calendar></div><div class=clearer>&nbsp;</div>
	<script type="text/javascript" src="{{ SITEURL }}/calendar/calendar.js"></script>
	<script type="text/javascript">
		var i = 0;
		var weekday = new Array(7);
		weekday[0] = "dim.";
		weekday[1] = "lun.";
		weekday[2] = "mar.";
		weekday[3] = "mer.";
		weekday[4] = "jeu.";
		weekday[5] = "ven.";
		weekday[6] = "sam.";
		var month = new Array(12);
		month[0] = "Janvier";
		month[1] = "Février";
		month[2] = "Mars";
		month[3] = "Avril";
		month[4] = "Mai";
		month[5] = "Juin";
		month[6] = "Juillet";
		month[7] = "Août";
		month[8] = "Septembre";
		month[9] = "Octobre";
		month[10] = "Novembre";
		month[11] = "Décembre";
		function pad(a) { return (a < 10) ? '0'+a : a }
		while (i < events.length) {
			var e = events[i];
			var d = new Date(e.isodate);
			today = new Date();
			today.setHours(4);
			today.setMinutes(0);
			if (d > today) {
				$('#calendar').append(
					'<div class="event">' +
					'  <time datetime="' + e.isodate + '" class="dateheure">' +
					'    <em>' + weekday[d.getDay()] + '</em>' +
					'    <span>' + pad(d.getDate()) + '</span>' +
					'    <strong>' + month[d.getMonth()] + ' ' + d.getFullYear() + '</strong>' +
					'    <time>' + pad(d.getHours()) + ':' + pad(d.getMinutes()) + '</time>' +
					'  </time>' +
					'  <p class="lieu">' + e.lieu + '</p>' +
					'  <p class="descr">' + e.texte + '</p>' +
					'</div>'
				);
			}
			i++;
		}
		$('div.event:odd').css("background-color", '#eeeeee');
	</script>
</article>
</section><!-- /#content -->
{% endblock content %}
